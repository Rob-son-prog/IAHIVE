@tailwind base;
@tailwind components;
@tailwind utilities;

/* ====== Tokens de Tema ====== */
:root {
  /* LIGHT (mantém) */
  --background: #f7f7f8;
  --foreground: #0b0b0e;

  --card: #ffffff;
  --card-foreground: #0b0b0e;

  --border: #e5e7eb;   /* cinza claro */
  --muted: #6b7280;    /* texto secundário */
}

/* DARK (look “chumbo” anterior, com borda mais forte) */
.dark {
  --background: #0b0b0d;   /* um pouco mais profundo que #0a0a0a */
  --foreground: #f5f5f5;
  --card: #0f1013;         /* cartões/boxes bem escuros */
  --card-foreground: #f5f5f5;
  --border: #2a2a30;       /* ~neutral-800 reforçado */
  --muted: #b0b0b5;        /* cinza claro para textos secundários */
}

/* ====== Base ====== */
@layer base {
  /* aplica fundos/textos globais */
  body { @apply bg-background text-foreground; }

  /* usa nosso token como COR DE BORDA PADRÃO do app
     (qualquer classe `border` sem cor específica vai herdar isto) */
  *, ::before, ::after { border-color: var(--border); }
}

/* util opcional */
@layer utilities {
  .text-balance { text-wrap: balance; }
}
/* === IA.HIVE: Botão Glow (Abrir IA) === */
.btn-ia{
  position:relative; display:inline-flex; align-items:center; gap:.5rem;
  padding:.5rem 1rem; border-radius: .75rem; font-weight:600; font-size:.875rem;
  color:#0b0b0f; background: rgba(255,255,255,.95);
  transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
  box-shadow: 0 0 0 1px rgba(168,85,247,.25), 0 6px 22px rgba(2,6,23,.25);
  will-change: transform;
}
.btn-ia svg{ opacity:.9 }
.btn-ia:hover{ transform: translateY(-1px); background:#fff; }

.btn-ia::before{
  content:""; position:absolute; inset:-3px; border-radius:inherit; z-index:-1;
  background: radial-gradient(90% 90% at 50% 120%,
    rgba(168,85,247,.45), rgba(59,130,246,.35) 35%, rgba(99,102,241,.25) 65%, transparent 85%);
  filter: blur(14px); opacity:0; transition:opacity .25s ease;
}
.btn-ia:hover::before{ opacity:1; }

/* versão escura: reforça o contraste */
.dark .btn-ia{
  color:#0b0b0f; background: rgba(255,255,255,.90);
  box-shadow: 0 0 0 1px rgba(168,85,247,.30), 0 8px 30px rgba(2,6,23,.45);
}

/* === IA.HIVE — Light only elevation (não afeta .dark) === */
html:not(.dark) .elev-card{
  background: linear-gradient(180deg, rgba(255,255,255,.88), rgba(255,255,255,.92));
  border: 1px solid rgba(15, 23, 42, .08);
  box-shadow:
    0 1px 2px rgba(15, 23, 42, .06),
    0 8px 24px rgba(15, 23, 42, .08);
  backdrop-filter: saturate(1.05);
}

html:not(.dark) .elev-ring{
  /* aro de foco/hover sutil no claro */
  outline: 0;
}
html:not(.dark) .elev-ring:hover{
  box-shadow:
    0 1px 2px rgba(15, 23, 42, .06),
    0 10px 28px rgba(15, 23, 42, .10),
    0 0 0 1px rgba(15,23,42,.10) inset;
}

/* === IA.HIVE Light polish (apenas light) === */
html:not(.dark) .elev-card{
  /* fundo com leve gradiente e blur muito sutil */
  background: linear-gradient(180deg, rgba(255,255,255,.88), rgba(255,255,255,.96));
  backdrop-filter: saturate(1.05) blur(2px);
  border-color: rgba(15,23,42,.10);
  box-shadow:
    0 1px 2px rgba(15,23,42,.06),
    0 8px 24px rgba(15,23,42,.10);
}
html:not(.dark) .elev-ring:hover{
  box-shadow:
    0 1px 2px rgba(15,23,42,.06),
    0 12px 30px rgba(15,23,42,.12),
    0 0 0 1px rgba(15,23,42,.12) inset;
}

@layer components {
}


@layer base {
  /* Light mode polish — NÃO afeta .dark */
  html:not(.dark) {
    --background: #f8fafc;         /* fundo mais claro (slate-50/100) */
    --foreground: #0b0d12;         /* texto mais escuro */
    --card: #ffffff;               /* cartões bem brancos */
    --card-foreground: #0b0d12;    /* texto de cards mais legível */
    --border: rgba(15,23,42,.12);  /* borda visível em telas claras */
    --muted: #64748b;              /* cinza para legendas (slate-500) */
  }
}
@layer components {
  /* Light-only elevation — não altera o .dark */
  html:not(.dark) .elev-card{
    background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.98));
    border: 1px solid rgba(15,23,42,.10);
    box-shadow:
      0 1px 2px rgba(15,23,42,.06),
      0 10px 28px rgba(15,23,42,.12);
    backdrop-filter: saturate(1.05) blur(2px);
  }
  html:not(.dark) .elev-ring:hover{
    box-shadow:
      0 1px 2px rgba(15,23,42,.06),
      0 12px 32px rgba(15,23,42,.14),
      0 0 0 1px rgba(15,23,42,.12) inset;
  }

  /* Painéis/boxes (barra de créditos, avisos, etc.) */
  html:not(.dark) .elev-panel{
    background: rgba(255,255,255,.96);
    border: 1px solid rgba(15,23,42,.10);
    box-shadow:
      0 1px 2px rgba(15,23,42,.05),
      0 8px 20px rgba(15,23,42,.10);
    backdrop-filter: blur(2px);
  }
}
html:not(.dark) {
  --background: #f5f7fa;
  --foreground: #0b0c0f;
  --card: #ffffff;
  --border: rgba(0,0,0,.08);
}

html:not(.dark) body {
  background: linear-gradient(180deg, #f7f9fc 0%, #eef1f6 100%);
  color: var(--foreground);
}

html:not(.dark) h1, html:not(.dark) h2, html:not(.dark) h3 {
  color: #111827;
}

html:not(.dark) p {
  color: #374151;
}

html:not(.dark) .elev-panel, html:not(.dark) .elev-card {
  border-radius: 18px;
  backdrop-filter: blur(4px);
  transition: all .3s ease;
}

html:not(.dark) .elev-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 4px 20px rgba(0,0,0,.08);
}
@layer components {
  /* Restauro de tipografia dentro dos cards no LIGHT (não afeta dark) */
  html:not(.dark) .ia-box h1,
  html:not(.dark) .ia-box h2,
  html:not(.dark) .ia-box h3 { 
    color: #ffffff !important;
    text-shadow: 0 2px 18px rgba(0,0,0,.30), 0 1px 4px rgba(0,0,0,.25);
  }
  html:not(.dark) .ia-box p {
    color: rgba(255,255,255,.92) !important;
    text-shadow: 0 1px 8px rgba(0,0,0,.25);
  }

  /* Overlay um pouco mais forte no LIGHT para legibilidade do texto nos cards */
  html:not(.dark) .ia-overlay{
    background: linear-gradient(
      to top,
      rgba(0,0,0,.55) 0%,
      rgba(0,0,0,.28) 55%,
      rgba(0,0,0,.10) 100%
    );
  }
}
@layer components {
  /* Restauro de tipografia dentro dos cards no LIGHT (não afeta dark) */
  html:not(.dark) .ia-box h1,
  html:not(.dark) .ia-box h2,
  html:not(.dark) .ia-box h3 { 
    color: #ffffff !important;
    text-shadow: 0 2px 18px rgba(0,0,0,.30), 0 1px 4px rgba(0,0,0,.25);
  }
  html:not(.dark) .ia-box p {
    color: rgba(255,255,255,.92) !important;
    text-shadow: 0 1px 8px rgba(0,0,0,.25);
  }

  /* Overlay um pouco mais forte no LIGHT para legibilidade do texto nos cards */
  html:not(.dark) .ia-overlay{
    background: linear-gradient(
      to top,
      rgba(0,0,0,.55) 0%,
      rgba(0,0,0,.28) 55%,
      rgba(0,0,0,.10) 100%
    );
  }
}
